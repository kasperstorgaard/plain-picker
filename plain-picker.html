<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="src/pp-nav.html">
<link rel="import" href="src/pp-month.html">
<link rel="import" href="src/pp-default-locale.html">
<!--
    `plain-picker`

    @demo demo/index.html
-->

<dom-module id="plain-picker">
    <template>
        <style>
            :host {
                display: block;
                padding: 1.4286em; /* 20 px on 14px font size */
            }
        </style>
        <pp-default-locale id="default-locale" value="{{_defaultLocale}}"></pp-default-locale>
        <pp-nav year="{{_year}}"
                month="{{_month}}"
                date="[[date]]"
                locale="[[_locale]]"></pp-nav>
        <pp-month active-date="{{date}}"
                  year="[[_year]]"
                  month="[[_month]]"
                  locale="[[_locale]]"></pp-month>
    </template>

    <script>
        Polymer({
            is: 'plain-picker',
            properties: {
                date: {
                    type: Object,
                    notify: true,
                    value: () => new Date()
                },
                locale: {
                    type: Object,
                    value: () => ({})
                },
                _locale: {
                    type: Object,
                    computed: '_localeWithDefaults(locale.*, _defaultLocale)'
                },
                _year: Number,
                _month: Number,
                _defaultLocale: Object
            },

            _localeWithDefaults (localeMutations, defaultLocale) {
                const locale = localeMutations.base;
                return Object.assign({}, defaultLocale, locale);
            }
        });
    </script>
</dom-module>
